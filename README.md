# iFlow SDK Web Interface

ğŸš€ **iFlow SDK çš„ç°ä»£åŒ– Web å‰ç«¯ç•Œé¢**

ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§çš„ Web åº”ç”¨ï¼Œä¸º [iFlow SDK](https://pypi.org/project/iflow-sdk/) æä¾›å¯è§†åŒ–äº¤äº’ç•Œé¢ï¼Œæ”¯æŒå®æ—¶ AI Agent é€šä¿¡ã€å·¥å…·è°ƒç”¨ç®¡ç†å’Œä»»åŠ¡è®¡åˆ’å¯è§†åŒ–ã€‚

## âœ¨ ç‰¹æ€§

### ğŸ¨ å‰ç«¯ç‰¹æ€§
- **ç°ä»£åŒ– UI**: ä½¿ç”¨ React 18 + TypeScript + Tailwind CSS æ„å»º
- **å®æ—¶é€šä¿¡**: WebSocket è¿æ¥ï¼Œæµå¼å“åº”å±•ç¤º
- **Markdown æ”¯æŒ**: å®Œæ•´çš„ Markdown æ¸²æŸ“æ”¯æŒ
- **å“åº”å¼è®¾è®¡**: é€‚é…å„ç§å±å¹•å°ºå¯¸
- **å·¥å…·è°ƒç”¨å¯è§†åŒ–**: å®æ—¶æ˜¾ç¤ºå·¥å…·æ‰§è¡ŒçŠ¶æ€
- **ä»»åŠ¡è®¡åˆ’å±•ç¤º**: å¯è§†åŒ–å±•ç¤º AI çš„ä»»åŠ¡è§„åˆ’
- **é…ç½®ç®¡ç†**: çµæ´»çš„æƒé™å’Œä¼šè¯é…ç½®

### ğŸ”§ åç«¯ç‰¹æ€§
- **FastAPI æœåŠ¡å™¨**: é«˜æ€§èƒ½å¼‚æ­¥ Python åç«¯
- **WebSocket æ”¯æŒ**: å®æ—¶åŒå‘é€šä¿¡
- **iFlow SDK é›†æˆ**: å®Œæ•´æ”¯æŒ iFlow SDK æ‰€æœ‰åŠŸèƒ½
- **æ¨¡æ‹Ÿæ¨¡å¼**: SDK æœªå®‰è£…æ—¶è‡ªåŠ¨å¯ç”¨æ¼”ç¤ºæ¨¡å¼
- **è¿æ¥ç®¡ç†**: è‡ªåŠ¨é‡è¿å’ŒçŠ¶æ€ç®¡ç†

## ğŸ“¦ é¡¹ç›®ç»“æ„

```
iflow_sdk/
â”œâ”€â”€ backend/                # åç«¯æœåŠ¡å™¨
â”‚   â”œâ”€â”€ server.py          # FastAPI ä¸»æœåŠ¡å™¨
â”‚   â””â”€â”€ requirements.txt   # Python ä¾èµ–
â”œâ”€â”€ frontend/              # å‰ç«¯åº”ç”¨
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/    # React ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ ChatInterface.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ MessageBubble.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ Sidebar.tsx
â”‚   â”‚   â”‚   â””â”€â”€ ConfigPanel.tsx
â”‚   â”‚   â”œâ”€â”€ hooks/         # è‡ªå®šä¹‰ Hooks
â”‚   â”‚   â”‚   â””â”€â”€ useWebSocket.ts
â”‚   â”‚   â”œâ”€â”€ types.ts       # TypeScript ç±»å‹å®šä¹‰
â”‚   â”‚   â”œâ”€â”€ App.tsx        # ä¸»åº”ç”¨ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ main.tsx       # åº”ç”¨å…¥å£
â”‚   â”‚   â””â”€â”€ index.css      # å…¨å±€æ ·å¼
â”‚   â”œâ”€â”€ package.json
â”‚   â”œâ”€â”€ tsconfig.json
â”‚   â”œâ”€â”€ vite.config.ts
â”‚   â””â”€â”€ tailwind.config.js
â””â”€â”€ README.md              # æœ¬æ–‡æ¡£
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å‰ç½®è¦æ±‚

- **Node.js** >= 18.0
- **Python** >= 3.8
- **iFlow CLI** (å¯é€‰ï¼Œæœªå®‰è£…æ—¶ä½¿ç”¨æ¨¡æ‹Ÿæ¨¡å¼)

### 1. å®‰è£… iFlow CLI (å¯é€‰)

**Mac/Linux/Ubuntu:**
```bash
bash -c "$(curl -fsSL https://gitee.com/iflow-ai/iflow-cli/raw/main/install.sh)"
```

**Windows:**
```bash
npm install -g @iflow-ai/iflow-cli@latest
```

### 2. å®‰è£…ä¾èµ–

**åç«¯:**
```bash
cd backend
pip install -r requirements.txt
```

**å‰ç«¯:**
```bash
cd frontend
npm install
```

### 3. å¯åŠ¨åº”ç”¨

**å¯åŠ¨åç«¯æœåŠ¡å™¨:**
```bash
cd backend
python server.py
```
åç«¯å°†åœ¨ `http://localhost:8000` è¿è¡Œ

**å¯åŠ¨å‰ç«¯å¼€å‘æœåŠ¡å™¨:**
```bash
cd frontend
npm run dev
```
å‰ç«¯å°†åœ¨ `http://localhost:3000` è¿è¡Œ

### 4. è®¿é—®åº”ç”¨

åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€ `http://localhost:3000`

## ğŸ“– ä½¿ç”¨æŒ‡å—

### åŸºæœ¬å¯¹è¯

1. åœ¨è¾“å…¥æ¡†ä¸­è¾“å…¥ä½ çš„é—®é¢˜æˆ–æŒ‡ä»¤
2. æŒ‰ `Enter` å‘é€ (Shift+Enter æ¢è¡Œ)
3. AI å°†å®æ—¶æµå¼è¿”å›å“åº”

### é…ç½®é€‰é¡¹

ç‚¹å‡»å³ä¸Šè§’çš„ âš™ï¸ å›¾æ ‡æ‰“å¼€é…ç½®é¢æ¿ï¼š

#### æƒé™æ¨¡å¼
- **è‡ªåŠ¨ (Auto)**: è‡ªåŠ¨æ‰¹å‡†æ‰€æœ‰å·¥å…·è°ƒç”¨
- **ç¡®è®¤ (Confirm)**: æ¯æ¬¡å·¥å…·è°ƒç”¨å‰éœ€è¦ç¡®è®¤
- **æ‹’ç» (Deny)**: ç¦æ­¢æ‰€æœ‰å·¥å…·è°ƒç”¨

#### è¿›ç¨‹ç®¡ç†
- **è‡ªåŠ¨å¯åŠ¨ iFlow è¿›ç¨‹**: SDK ä¼šè‡ªåŠ¨å¯åŠ¨å’Œç®¡ç† iFlow CLI

#### ä¼šè¯ç®¡ç†
- è¾“å…¥ä¼šè¯ ID å¯ä»¥ç»§ç»­ä¹‹å‰çš„å¯¹è¯
- ç•™ç©ºå°†åˆ›å»ºæ–°ä¼šè¯

### å·¥å…·è°ƒç”¨ç›‘æ§

å·¦ä¾§è¾¹æ å®æ—¶æ˜¾ç¤ºï¼š
- ğŸ”§ **å·¥å…·è°ƒç”¨**: æ˜¾ç¤ºæ‰€æœ‰å·¥å…·çš„æ‰§è¡ŒçŠ¶æ€
- ğŸ“‹ **ä»»åŠ¡è®¡åˆ’**: å±•ç¤º AI çš„ç»“æ„åŒ–ä»»åŠ¡è§„åˆ’

### æ¸…ç©ºå¯¹è¯

ç‚¹å‡»å·¦ä¾§è¾¹æ åº•éƒ¨çš„ "æ¸…ç©ºå¯¹è¯" æŒ‰é’®å¯ä»¥æ¸…é™¤æ‰€æœ‰æ¶ˆæ¯å†å²

## ğŸ› ï¸ å¼€å‘

### å‰ç«¯å¼€å‘

```bash
cd frontend

# å¼€å‘æ¨¡å¼
npm run dev

# æ„å»ºç”Ÿäº§ç‰ˆæœ¬
npm run build

# é¢„è§ˆç”Ÿäº§æ„å»º
npm run preview

# ä»£ç æ£€æŸ¥
npm run lint
```

### åç«¯å¼€å‘

```bash
cd backend

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨ (è‡ªåŠ¨é‡è½½)
uvicorn server:app --reload --host 0.0.0.0 --port 8000

# æŸ¥çœ‹ API æ–‡æ¡£
# è®¿é—® http://localhost:8000/docs
```

## ğŸŒ API ç«¯ç‚¹

### REST API

- `GET /` - æœåŠ¡å™¨ä¿¡æ¯
- `GET /api/health` - å¥åº·æ£€æŸ¥

### WebSocket

- `WS /ws/{client_id}` - ä¸» WebSocket è¿æ¥

#### æ¶ˆæ¯ç±»å‹

**å®¢æˆ·ç«¯ â†’ æœåŠ¡å™¨:**
- `chat` - å‘é€èŠå¤©æ¶ˆæ¯
- `config` - æ›´æ–°é…ç½®
- `tool_response` - å·¥å…·è°ƒç”¨å“åº”
- `ping` - å¿ƒè·³æ£€æµ‹

**æœåŠ¡å™¨ â†’ å®¢æˆ·ç«¯:**
- `connection` - è¿æ¥çŠ¶æ€
- `assistant_chunk` - AI å“åº”ç‰‡æ®µ
- `tool_call` - å·¥å…·è°ƒç”¨è¯·æ±‚
- `plan` - ä»»åŠ¡è®¡åˆ’
- `task_finish` - ä»»åŠ¡å®Œæˆ
- `error` - é”™è¯¯æ¶ˆæ¯

## ğŸ¨ æŠ€æœ¯æ ˆ

### å‰ç«¯
- **React 18** - UI æ¡†æ¶
- **TypeScript** - ç±»å‹å®‰å…¨
- **Vite** - æ„å»ºå·¥å…·
- **Tailwind CSS** - æ ·å¼æ¡†æ¶
- **Lucide React** - å›¾æ ‡åº“
- **React Markdown** - Markdown æ¸²æŸ“
- **date-fns** - æ—¥æœŸå¤„ç†

### åç«¯
- **FastAPI** - Web æ¡†æ¶
- **Uvicorn** - ASGI æœåŠ¡å™¨
- **WebSockets** - å®æ—¶é€šä¿¡
- **Pydantic** - æ•°æ®éªŒè¯
- **iFlow SDK** - AI Agent é›†æˆ

## ğŸ“ è®¸å¯è¯

MIT License

## ğŸ¤ è´¡çŒ®

æ¬¢è¿è´¡çŒ®ï¼è¯·éšæ—¶æäº¤ Issue æˆ– Pull Requestã€‚

## ğŸ“§ æ”¯æŒ

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·è®¿é—® [iFlow SDK PyPI é¡µé¢](https://pypi.org/project/iflow-sdk/)

---

ä½¿ç”¨ â¤ï¸ æ„å»ºï¼Œä¸º AI å¼€å‘è€…ç¤¾åŒºæœåŠ¡

